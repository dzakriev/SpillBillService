---
- name: Setup prerequisites for fact gathering
  hosts: all
  become: yes
  gather_facts: no
  tasks:
    - name: Install lsb-release for fact gathering
      ansible.builtin.apt:
        name: lsb-release
        state: present
        update_cache: yes

- name: Deploy FastAPI Hello App
  hosts: all
  become: yes
  roles:
    - docker
    - fastapi_app
